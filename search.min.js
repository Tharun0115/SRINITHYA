document.addEventListener("DOMContentLoaded",()=>{const e=window.location.pathname.includes("Product_details"),t=e?"../":"./",n=[{name:"Bar Cutting Machine",desc:"Hydraulic cutting for TMT bars up to 42mm.",link:"Product_details/bar_cutting_models.html",image:"Assets/bar_cutter.png",category:"Heavy Machinery",specs:"Up to 42mm TMT 4 KW Motor Reinforced Oil Bath Up to 32mm TMT 3 KW Motor Speed 32 times/min"},{name:"Bar Bending Machine",desc:"Automatic bending with digital control.",link:"Product_details/bar_bending_models.html",image:"Assets/bar_bender.png",category:"Heavy Machinery",specs:"6mm - 32mm Pin Foot Pedal Emergency Stop Up to 42mm Digital CNC Panel Save Angle Presets"},{name:"Scrap Straightener",desc:"Straighten scrap bars efficiently.",link:"Product_details/scrap_straightener_models.html",image:"Assets/scrap_straightener.png",category:"Heavy Machinery",specs:"4mm - 12mm 25 meters/min Coil Light Scrap 6mm - 16mm Auto-Cut Function High Precision"},{name:"Road Rollers",desc:"Ride-on and Walk-behind rollers.",link:"Product_details/road_roller_models.html",image:"Assets/road_roller.png",category:"Heavy Machinery",specs:"SRR30 Ride on SWR30 SH Walk behind SWR30 FH Diesel Engine"},{name:"Suspended Rope Platform",desc:"High-safety suspended platform (ZLP800).",link:"index.html#contact",image:"Assets/srp.png",category:"Heavy Machinery",specs:"ZLP800 Load Calibration cell Length upto 100Mtr Weight upto 1000Kgs"},{name:"Plate Compactors",desc:"For soil and asphalt compaction.",link:"Product_details/plate_compactor_models.html",image:"Assets/plate_compactor.png",category:"Light Equipment",specs:"80 kg 15 kN 5.5 HP Petrol 150 kg 25 kN 8 HP Diesel 250 kg 35 kN 10 HP Petrol Diesel Reversible 300 kg 40 kN Hydraulic Reversible"},{name:"Power Trowels",desc:"Professional concrete finishing.",link:"Product_details/power_trowel_models.html",image:"Assets/logo.png",category:"Light Equipment",specs:"1000 mm 4 Blades 2Hp 70Kg Honda Engine 3Hp 68Kg Crompton motor"},{name:"Concrete Mixers",desc:"Portable 1-bag / 2-bag mixers.",link:"Product_details/concrete_mixer_models.html",image:"Assets/logo.png",category:"Light Equipment",specs:"220 Litres 3 HP Electric Motor Towable 5 HP Diesel Engine 350 Litres 9 HP Diesel Engine Heavy Duty Chassis"},{name:"High Frequency Converter",desc:"High performance frequency generators.",link:"Product_details/high_frequency_converter_models.html",image:"Assets/logo.png",category:"Light Equipment",specs:"SHFC35T 2 Outlet SHFC90P 4 Outlet 415V 50Hz 42V 200Hz"},{name:"High Frequency Poker",desc:"Internal concrete vibration needles.",link:"Product_details/high_frequency_poker_models.html",image:"Assets/electrical_vibrator.png",category:"Light Equipment",specs:"60MM 40MM 5Mtr 10Mtr 12Mtr Hose"},{name:"Earth Compactor",desc:"Heavy duty surface compaction.",link:"Product_details/earth_compactor_models.html",image:"Assets/logo.png",category:"Light Equipment",specs:"650mm 10 kN Diesel 8HP 850mm 20 kN Remote Wired"},{name:"Vibrators",desc:"Electric and petrol vibrators.",link:"Product_details/vibrators.html",image:"Assets/electrical_vibrator.png",category:"Light Equipment",specs:"3 HP 220V 240V 12 15 A 2800 3000 RPM 380V 415V 4.5 6 A 2 HP 8 10 A"},{name:"Portable Bar Equipment",desc:"Portable benders and cutters.",link:"Product_details/portable_bar_processing_models.html",image:"Assets/bar_bender.png",category:"Light Equipment",specs:"SPB25 SPB32 SPS32 SPC25 SPC32 Portable Bender Cutter Straightener"}],a=document.createElement("style");a.textContent="\n        @keyframes searchPopIn {\n            0% { opacity: 0; transform: scale(0.9) perspective(500px) translateZ(-50px); }\n            100% { opacity: 1; transform: scale(1) perspective(500px) translateZ(0); }\n        }\n        .search-modal-anim { \n            animation: searchPopIn 0.3s cubic-bezier(0.16, 1, 0.3, 1) forwards; \n            transform-origin: center top;\n        }\n        .search-backdrop { \n            background-color: rgba(0, 0, 0, 0.6); \n            backdrop-filter: blur(5px); \n        }\n        .search-card:hover { \n            transform: translateY(-4px); \n            box-shadow: 0 10px 20px -5px rgba(0, 0, 0, 0.1); \n        }\n    ",document.head.appendChild(a);document.body.insertAdjacentHTML("beforeend",'\n        <div id="global-search-modal" class="fixed inset-0 z-[100] hidden search-backdrop flex items-start justify-center pt-16 px-4 transition-opacity duration-300">\n            <div class="bg-white/95 w-full max-w-[80vw] rounded-2xl shadow-2xl overflow-hidden search-modal-anim flex flex-col max-h-[80vh] border border-white/20 ring-1 ring-black/5">\n                \n                \x3c!-- Search Bar Row --\x3e\n                <div class="p-5 border-b border-gray-100 flex items-center gap-4 bg-white sticky top-0 z-10">\n                    <div class="bg-secondary/10 p-3 rounded-full text-secondary">\n                        <i class="fa-solid fa-magnifying-glass text-xl"></i>\n                    </div>\n                    <input type="text" id="global-search-input" class="w-full bg-transparent text-2xl outline-none text-gray-800 placeholder-gray-400 font-medium h-12" placeholder="Search products..." autocomplete="off">\n                    <button id="close-search-modal" class="p-2 text-gray-400 hover:text-red-500 transition rounded-full hover:bg-red-50">\n                        <i class="fa-solid fa-xmark text-2xl"></i>\n                    </button>\n                </div>\n\n                \x3c!-- Results Area --\x3e\n                <div id="global-search-results" class="p-6 overflow-y-auto bg-gray-50/50 grid grid-cols-2 sm:grid-cols-3 md:grid-cols-4 lg:grid-cols-5 gap-4 min-h-[300px]">\n                    \x3c!-- Results will be injected here --\x3e\n                </div>\n            </div>\n        </div>\n    ');const r=document.getElementById("global-search-modal"),s=document.getElementById("global-search-input"),o=document.getElementById("close-search-modal"),i=document.getElementById("global-search-results"),l=document.getElementById("catalogue-search");function c(){r.classList.remove("hidden"),document.body.style.overflow="hidden",s.focus(),l&&l.value?(s.value=l.value,m(s.value)):m("")}function d(){r.classList.add("hidden"),document.body.style.overflow="",l&&(l.value=""),s.value=""}function m(a){const r=a.toLowerCase().trim(),s=""===r?n:n.filter(e=>e.name.toLowerCase().includes(r)||e.category.toLowerCase().includes(r)||e.specs&&e.specs.toLowerCase().includes(r));0!==s.length?i.innerHTML=s.map(n=>{const a=t+n.image;let s=n.link;s.startsWith("http")||s.startsWith("#")||e&&(s.startsWith("Product_details/")||s.startsWith("index.html"))&&(s="../"+s);let o=n.name;if(r){const e=r.replace(/[.*+?^${}()|[\]\\]/g,"\\$&"),t=new RegExp(`(${e})`,"gi");o=n.name.replace(t,'<span class="text-secondary bg-yellow-100">$1</span>')}return`\n                <a href="${s}" class="bg-white p-3 rounded-xl shadow-sm border border-gray-100 hover:border-secondary transition-all duration-300 search-card group flex flex-col items-center text-center h-full">\n                    <div class="h-24 w-full flex items-center justify-center mb-2 overflow-hidden rounded-lg bg-gray-50 p-2">\n                        <img src="${a}" alt="${n.name}" class="h-full w-auto object-contain transition-transform duration-500 group-hover:scale-110">\n                    </div>\n                    <h4 class="font-bold text-gray-800 text-sm group-hover:text-primary transition leading-tight mb-1">${o}</h4>\n                    <p class="text-[10px] text-gray-500 line-clamp-2 mb-2 flex-grow">${n.desc}</p>\n                    <span class="inline-block px-2 py-0.5 bg-gray-100 text-[10px] font-bold text-secondary rounded uppercase tracking-wider">${n.category}</span>\n                </a>\n            `}).join(""):i.innerHTML=`\n                <div class="col-span-full flex flex-col items-center justify-center text-gray-400 py-12">\n                    <i class="fa-regular fa-face-frown text-4xl mb-4 opacity-50"></i>\n                    <p class="text-lg">No products found matching "${r}"</p>\n                </div>\n            `}l&&(l.addEventListener("click",e=>{e.preventDefault(),l.blur(),c()}),l.addEventListener("keydown",e=>{"Enter"!==e.key&&1!==e.key.length||(e.preventDefault(),c())})),o.addEventListener("click",d),r.addEventListener("click",e=>{e.target===r&&d()}),s.addEventListener("input",e=>m(e.target.value)),document.addEventListener("keydown",e=>{"Escape"!==e.key||r.classList.contains("hidden")||d()})});